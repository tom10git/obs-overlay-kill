/**
 * ダメージ数値表示のスタイル
 * HPゲージの中央上に表示される（OverlayPageレベルで表示）
 */

.damage-number {
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  font-size: 72px;
  font-weight: 900;
  color: #cc0000;
  text-shadow: 
    0 0 4px rgba(204, 0, 0, 0.9),
    0 0 8px rgba(204, 0, 0, 0.8),
    0 0 16px rgba(204, 0, 0, 0.7),
    0 0 24px rgba(204, 0, 0, 0.6),
    0 0 32px rgba(204, 0, 0, 0.5),
    0 0 48px rgba(204, 0, 0, 0.4),
    0 0 64px rgba(204, 0, 0, 0.3),
    2px 2px 8px rgba(0, 0, 0, 0.9);
  pointer-events: none;
  z-index: 10003;
  white-space: nowrap;
  animation: damageFloat 1.5s ease-out forwards;
  user-select: none;
  letter-spacing: 0.1em;
  filter: drop-shadow(0 0 12px rgba(204, 0, 0, 0.5));
}

.damage-number.critical {
  font-size: 80px;
  color: #cc8800;
  text-shadow: 
    0 0 6px rgba(204, 136, 0, 0.9),
    0 0 12px rgba(204, 136, 0, 0.85),
    0 0 20px rgba(204, 136, 0, 0.8),
    0 0 30px rgba(204, 136, 0, 0.7),
    0 0 40px rgba(204, 136, 0, 0.6),
    2px 2px 10px rgba(0, 0, 0, 0.9);
  animation: damageFloatCritical 1.5s ease-out forwards;
  filter: drop-shadow(0 0 15px rgba(204, 136, 0, 0.45)) drop-shadow(0 0 25px rgba(204, 136, 0, 0.3));
}

.damage-number.bleed {
  font-size: 36px;
  color: #ff6666;
  text-shadow: 
    2px 2px 4px rgba(0, 0, 0, 0.8),
    0 0 8px rgba(255, 102, 102, 0.6),
    0 0 15px rgba(255, 102, 102, 0.4);
  animation: damageFloatBleed 1.2s ease-out forwards;
}

@keyframes damageFloat {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(0.3);
    filter: drop-shadow(0 0 12px rgba(204, 0, 0, 0.5)) brightness(1.2);
  }
  10% {
    opacity: 1;
    transform: translate(-50%, -60%) scale(1.4);
    filter: drop-shadow(0 0 18px rgba(204, 0, 0, 0.6)) brightness(1.3);
  }
  20% {
    opacity: 1;
    transform: translate(-50%, -80%) scale(1.3);
    filter: drop-shadow(0 0 15px rgba(204, 0, 0, 0.55)) brightness(1.25);
  }
  40% {
    opacity: 1;
    transform: translate(-50%, -110%) scale(1.1);
    filter: drop-shadow(0 0 12px rgba(204, 0, 0, 0.5)) brightness(1.15);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -180%) scale(0.7);
    filter: drop-shadow(0 0 8px rgba(204, 0, 0, 0.25)) brightness(0.9);
  }
}

@keyframes damageFloatCritical {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(0.5) rotate(-5deg);
    filter: drop-shadow(0 0 15px rgba(204, 136, 0, 0.45)) drop-shadow(0 0 25px rgba(204, 136, 0, 0.3)) brightness(1.1);
  }
  20% {
    opacity: 1;
    transform: translate(-50%, -75%) scale(1.3) rotate(2deg);
    filter: drop-shadow(0 0 18px rgba(204, 136, 0, 0.5)) drop-shadow(0 0 30px rgba(204, 136, 0, 0.35)) brightness(1.15);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -170%) scale(0.7) rotate(3deg);
    filter: drop-shadow(0 0 12px rgba(204, 136, 0, 0.25)) drop-shadow(0 0 20px rgba(204, 136, 0, 0.15)) brightness(0.95);
  }
}

@keyframes damageFloatBleed {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) translateX(0) translateY(0) scale(0.6);
  }
  20% {
    opacity: 1;
    transform: translate(-50%, -50%) 
      translateX(var(--bleed-mid-x, 0px)) 
      translateY(var(--bleed-mid-y, 0px)) 
      scale(1.1);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) 
      translateX(var(--bleed-end-x, 0px)) 
      translateY(var(--bleed-end-y, 0px)) 
      scale(0.7);
  }
}
